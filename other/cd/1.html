<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>OpenCV in the browser</title>
</head>
<body>
  <img id="imageSrc" src="./myimage.jpg">
  <canvas id="canvasOutput"></canvas>

  <script async src="./opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>
  <script type="text/javascript">
    function onOpenCvReady() {
        // Load the image
        let imgElement = document.getElementById('imageSrc');
        let img = cv.imread(imgElement);

        // Apply a filter
        cv.cvtColor(img, img, cv.COLOR_RGBA2GRAY);
        cv.medianBlur(img, img, 5);

        // Display the result
        cv.imshow('canvasOutput', img);
        img.delete();
    }
  </script>
</body>
</html>
